Just-in-Time Patching Java Applications
=======================================

This project contains the source code to a presentation about Just-in-Time Patching Java Applications.

## Demo Application (WeatherServer)
The [demo application](https://github.com/andrena/just-in-time-patching/tree/master/demo-application) is containing a defect:

* start the applications main class
* the application will start on `http://localhost:8080` 
* navigate throught the dates with the indicators
* select a friday 13th in the future and update your browser some times

Now you can patch this code without restarting the application:

## Insert Log Statements into a Broken Method

* build [log agent](https://github.com/andrena/just-in-time-patching/tree/master/log-agent) with maven
* attach the agent with the [agent-attacher](https://github.com/andrena/just-in-time-patching/tree/master/agent-attacher)
* now you will realize log statements on the console

## Capture and Replay a Broken Method

* build [recording agent](https://github.com/andrena/just-in-time-patching/tree/master/recording-agent) with maven
* attach the agent with the [agent-attacher](https://github.com/andrena/just-in-time-patching/tree/master/agent-attacher)
* the console will report where reproducing tests are written
  
## Replace a Broken Method by a Fixed One  

* write your patch code or simply view how the defect could be fixed
* build [patch agent](https://github.com/andrena/just-in-time-patching/tree/master/patch-agent) with maven
* attach the agent with the [agent-attacher](https://github.com/andrena/just-in-time-patching/tree/master/agent-attacher)
* hopefully the defect was fixed - without ever restarting the program

## Additional Notes

All of these actions could be easily applied to other programs including servlet containers or spring boot applications. Frameworks that depend on byte-code-instrumentation (as Spring or Hibernate) are patchable, yet writing a correct patch can be quite hard since the already generated byte-code by these frameworks is often not transparently accessible. 

## Feedback

Please provide feedback - especially if something does not work as you expect it.